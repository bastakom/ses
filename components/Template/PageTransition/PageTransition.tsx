import { AnimatePresence, motion } from 'framer-motion'
import { useEffect, useState } from 'react'
import styles from './pagetransition.module.scss'

const PageTransition = () => {
  const [visable, notVisable] = useState(false)
  useEffect(() => {
    setTimeout(() => {
      notVisable(true)
    }, 3000)
  })

  return (
    <>
      {!visable ? (
        <AnimatePresence>
          <motion.div
            layout
            initial={{ opacity: 1 }}
            animate={{
              scale: 1.5,
              opacity: 0
            }}
            transition={{ delay: 1.5, duration: 2 }}
            exit={{ opacity: 0 }}
            className={`${styles.loader} loaded`}
          >
            <svg width="300" height="300" viewBox="0 0 500 500">
              <AnimatePresence>
                <motion.path
                  d="M2215 4384c-356-54-668-187-945-402-395-307-670-777-747-1275-21-137-23-429-4-567 125-906 854-1621 1753-1719 655-72 1288 171 1718 659 249 282 397 580 470 940 128 643-80 1333-541 1791-321 319-701 510-1140 574-133 19-438 19-564-1zm649-133c307-62 608-209 858-420 512-431 755-1138 618-1804-117-565-505-1062-1025-1312-286-137-561-194-890-182-193 7-343 33-509 88C967 937 432 1922 684 2892c93 355 319 711 599 945 261 217 564 361 877 417 132 24 141 24 375 21 179-2 240-6 329-24z"
                  transform="matrix(.1 0 0 -.1 0 500)"
                  stroke="#fefefe"
                  strokeWidth="10"
                  fill="none"
                  initial={{ pathLength: 0 }}
                  animate={{ pathLength: 1 }}
                  transition={{
                    duration: 1.6,
                    repeat: 1.5,
                    repeatType: 'reverse'
                  }}
                  exit={{ pathLength: 0 }}
                />
              </AnimatePresence>
              <path
                d="M1981 2898c-5-13-88-200-185-417-97-216-176-395-176-397s44-4 98-4h99l35 88 36 87h395l35-87 36-88h205l-33 73c-18 39-102 228-187 419l-154 347-98 1c-92 0-98-1-106-22zm175-336l60-147-124-3c-69-1-127 0-130 2-3 3 23 73 58 156s66 148 69 145c3-4 33-72 67-153zM2632 2843l3-78 133-3 132-3v-679h200v680h270v160h-741l3-77zM1577 1998c-24-54-26-71-5-50 16 16 65 15 71 0 2-7 7-10 11-6 9 7-33 108-45 108-4 0-19-24-32-52zm43 2c9-17 8-20-9-20-14 0-18 5-14 20 3 11 7 20 9 20s8-9 14-20zM1697 2044c-10-11-9-104 2-104 6 0 11 15 13 33l4 32 14-29 14-28 23 28 23 29v-32c0-18 5-33 10-33 13 0 13 97 0 105-5 3-17-10-27-29-9-20-19-36-22-36s-15 16-26 36c-11 19-24 32-28 28zM1850 1996c0-31 5-56 10-56 6 0 10 22 10 49 0 28-4 53-10 56-6 4-10-15-10-49zM1922 2034c-29-20-30-69-1-84 33-18 64-9 66 20 1 16 0 18-3 7-4-13-14-17-32-15-23 2-27 8-27 33 0 27 3 30 33 29 34-2 43 10 16 20-22 9-27 8-52-10zM2059 2043c-9-2-21-14-27-27-26-57 56-106 92-54 21 30 20 44-4 68-20 20-29 22-61 13zm51-28c18-21 3-55-24-55-33 0-50 23-36 49 12 24 42 27 60 6zM2210 2040c0-5 7-10 15-10 11 0 15-12 15-45 0-25 5-45 10-45 6 0 10 20 10 45 0 39 3 45 21 45 11 0 17 5 14 10-3 6-24 10-46 10-21 0-39-4-39-10zM2327 2043c-4-3-7-28-7-55v-48h40c22 0 40 5 40 10 0 6-14 10-31 10-36 0-35 21 2 31 24 7 24 7-3 8-40 1-38 31 2 31 17 0 30 5 30 10 0 11-63 14-73 3zM2437 2043c-11-10-8-103 3-103 6 0 10 15 10 33l1 32 21-28 21-28 18 28 19 28v-32c0-18 5-33 10-33 6 0 10 25 10 55s-2 55-5 55c-2 0-15-16-29-37l-25-36-21 36c-24 40-24 40-33 30zM2590 1995c0-30 5-55 10-55 6 0 10 7 10 15 0 9 9 15 24 15 49 0 60 61 13 74-52 14-57 10-57-49zm65 15c0-8-10-16-22-18-18-3-23 2-23 18s5 21 23 18c12-2 22-10 22-18zM2710 1996v-56h35c19 0 35 5 35 10 0 6-11 10-25 10-22 0-25 4-25 39 0 22-4 43-10 46-6 4-10-15-10-49zM2824 1999c-14-28-22-54-18-57 4-4 9-1 11 6 6 15 55 16 71 0 6-6 14-10 16-7 6 6-40 109-48 109-3 0-17-23-32-51zm46-11c0-5-7-8-15-8-15 0-20 21-8 33 7 7 23-11 23-25zM2920 2040c0-5 9-10 20-10 17 0 20-7 20-45 0-25 5-45 10-45 6 0 10 20 10 45 0 33 4 45 15 45 8 0 15 5 15 10 0 6-20 10-45 10s-45-4-45-10zM3040 1995v-55h41c24 0 38 4 34 10-3 6-17 10-31 10-34 0-31 28 4 33l27 4-27 2c-36 1-39 31-3 31 14 0 25 5 25 10 0 6-16 10-35 10h-35v-55z"
                transform="matrix(.1 0 0 -.1 0 500)"
                fill="#fefefe"
              ></path>
            </svg>
          </motion.div>
        </AnimatePresence>
      ) : null}
    </>
  )
}

export default PageTransition
